document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("location"),t=document.getElementById("real-temp"),n=document.getElementById("last-checked"),o=document.getElementById("feel-temp"),r=document.getElementById("humidity"),d=document.getElementById("weather-icon");fetch("https://cors-anywhere.herokuapp.com/http://reg.bom.gov.au/fwo/IDW60901/IDW60901.94608.json").then(e=>e.json()).then(c=>{const{state_time_zone:l}=c.observations.header[0],{name:a,apparent_t:s,air_temp:i,local_date_time:m,rel_hum:u}=c.observations.data[0],{wind_spd_kmh:g,rain_trace:L,cloud:p}=c.observations.data[0];e.innerHTML=`${a}, ${l}`,t.innerHTML=`${i}°C`;let y=m.replace(/\d+\/0?/,"");console.log(y),n.innerHTML=`Accurate as of: <strong>${y}</strong>`,o.innerHTML=`Feels Like: <strong>${s}°C</strong>`,r.innerHTML=`Humidity: <strong>${u}%</strong>`,document.getElementById("loading").style.display="none",function(e,t,n,o){let r,c=o.includes("pm")?Number(o.replace(/\D/g,""))+1200:Number(o.replace(/\D/g,"")),l=c>=384&&c<1800;console.log(o,c,l),r=Number(t)>=.5?"RAIN":e>=10?"WIND":"Cloudy"===n?"CLOUDY":"Partly cloudy"===n?l?"PARTLY_CLOUDY_DAY":"PARTLY_CLOUDY_NIGHT":l?"CLEAR_DAY":"CLEAR_NIGHT";const a=new Skycons({color:"#333"});a.play(),a.set(d,Skycons[r])}(g,L,p,y)});t.addEventListener("click",()=>{let e=t.innerHTML.includes("C"),n=Number(t.innerHTML.replace(/°\w/,"")),o=e?9*n/5+32:5*(n-32)/9;o=o.toString().replace(/(\d+\.\d)\d*/,(e,t)=>t),t.innerHTML=e?`${o}°F`:`${o}°C`})});