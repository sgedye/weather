document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("location"),t=document.getElementById("real-temp"),n=document.getElementById("last-checked"),o=document.getElementById("feel-temp"),r=document.getElementById("humidity"),c=document.getElementById("weather-icon");fetch("https://cors-anywhere.herokuapp.com/http://reg.bom.gov.au/fwo/IDW60901/IDW60901.94608.json").then(e=>e.json()).then(d=>{const{state_time_zone:a}=d.observations.header[0],{name:l,apparent_t:s,air_temp:i,local_date_time:m,rel_hum:u}=d.observations.data[0],{wind_spd_kmh:g,rain_trace:L,cloud:p}=d.observations.data[0];e.innerHTML=`${l}, ${a}`,t.innerHTML=`${i}°C`;let _=m.replace(/\d+\/0?/,"");console.log(_),n.innerHTML=`Accurate as of: <strong>${_}</strong>`,o.innerHTML=`Feels Like: <strong>${s}°C</strong>`,r.innerHTML=`Humidity: <strong>${u}%</strong>`,function(e,t,n,o){let r,d=o.includes("pm")?Number(o.replace(/\D/g,""))+1200:Number(o.replace(/\D/g,"")),a=d>=384&&d<1800;console.log(o,d,a),r=Number(t)>=.5?"RAIN":e>=10?"WIND":"Cloudy"===n?"CLOUDY":"Partly cloudy"===n?a?"PARTLY_CLOUDY_DAY":"PARTLY_CLOUDY_NIGHT":a?"CLEAR_DAY":"CLEAR_NIGHT";const l=new Skycons({color:"#333"});l.play(),l.set(c,Skycons[r])}(g,L,p,_)});t.addEventListener("click",()=>{let e=t.innerHTML.includes("C"),n=Number(t.innerHTML.replace(/°\w/,"")),o=e?9*n/5+32:5*(n-32)/9;o=o.toString().replace(/(\d+\.\d)\d*/,(e,t)=>t),t.innerHTML=e?`${o}°F`:`${o}°C`})});