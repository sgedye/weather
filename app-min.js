document.addEventListener("DOMContentLoaded",()=>{document.getElementById("temperature").style.display="none";const e=document.getElementById("location"),t=document.getElementById("real-temp"),n=document.getElementById("last-checked"),o=document.getElementById("feel-temp"),r=document.getElementById("humidity"),d=document.getElementById("weather-icon");fetch("https://cors-anywhere.herokuapp.com/http://reg.bom.gov.au/fwo/IDW60901/IDW60901.94608.json").then(e=>e.json()).then(a=>{const{state_time_zone:l}=a.observations.header[0],{name:c,apparent_t:m,air_temp:s,local_date_time:i,rel_hum:u}=a.observations.data[0],{wind_spd_kmh:y,rain_trace:g,cloud:p}=a.observations.data[0];e.innerHTML=`${c}, ${l}`,t.innerHTML=`${s}°C`;let L=i.replace(/\d+\/0?/,"");n.innerHTML=`Accurate as of: <strong>${L}</strong>`,o.innerHTML=`Feels Like: <strong>${m}°C</strong>`,r.innerHTML=`Humidity: <strong>${u}%</strong>`,wind.innerHTML=`Wind: <strong>${y} km/h</strong>`,document.getElementById("loading").style.display="none",document.getElementById("temperature").style.display="block",function(e,t,n,o){let r,a=o.includes("pm")?Number(o.replace(/\D/g,""))+1200:Number(o.replace(/\D/g,"")),l=a>=384&&a<1800;r=Number(t)>=.5?"RAIN":e>=15?"WIND":"Cloudy"===n?"CLOUDY":"Partly cloudy"===n?l?"PARTLY_CLOUDY_DAY":"PARTLY_CLOUDY_NIGHT":l?"CLEAR_DAY":"CLEAR_NIGHT";const c=new Skycons({color:"#222"});c.play(),c.set(d,Skycons[r])}(y,g,p,L)});t.addEventListener("click",()=>{let e=t.innerHTML.includes("C"),n=Number(t.innerHTML.replace(/°\w/,"")),o=e?9*n/5+32:5*(n-32)/9;o=o.toString().replace(/(\d+\.\d)\d*/,(e,t)=>t),t.innerHTML=e?`${o}°F`:`${o}°C`})});